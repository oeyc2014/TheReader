<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Reading Tutor</title>

  <style>
    :root {
      --bg: #0e1117;
      --panel: #151a23;
      --text: #f2f4f8;
      --muted: #9aa3b2;
      --green: #2ecc71;
      --yellow: #f1c40f;
      --red: #e74c3c;
    }

    * {
      box-sizing: border-box;
      font-family: system-ui, -apple-system, Segoe UI, Roboto, sans-serif;
    }

    body {
      margin: 0;
      height: 100vh;
      display: flex;
      background: var(--bg);
      color: var(--text);
      overflow: hidden;
    }

    /* Sidebar */
    .sidebar {
      width: 90px;
      background: var(--panel);
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      gap: 18px;
    }

    .level {
      width: 52px;
      height: 52px;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      color: white;
      font-weight: 700;
      font-size: 1.25rem;
      cursor: pointer;
      transition: transform 0.2s ease, box-shadow 0.2s ease;
    }

    .level:hover {
      transform: scale(1.08);
      box-shadow: 0 0 0 4px rgba(255,255,255,0.06);
    }

    .active {
      box-shadow: 0 0 0 4px rgba(255,255,255,0.12);
    }

    .l1 { background: var(--green); }
    .l2 { background: var(--yellow); }
    .l3 { background: var(--red); }

    /* Main */
    main {
      flex: 1;
      display: flex;
      align-items: center;
      justify-content: center;
      padding: 40px;
    }

    .card {
      max-width: 720px;
      width: 100%;
      background: rgba(255,255,255,0.02);
      border-radius: 18px;
      padding: 36px;
      backdrop-filter: blur(10px);
    }

    #story {
      font-size: 1.6rem;
      line-height: 2.1;
      white-space: pre-line;
    }

    .controls {
      margin-top: 28px;
      display: flex;
      gap: 14px;
    }

    button {
      background: #1f2633;
      border: none;
      color: var(--text);
      padding: 14px 22px;
      border-radius: 14px;
      font-size: 1.05rem;
      cursor: pointer;
      transition: background 0.2s ease, transform 0.1s ease;
    }

    button:hover {
      background: #2a3345;
      transform: translateY(-1px);
    }

    button:active {
      transform: translateY(0);
    }
  </style>
</head>
<body>

  <div class="sidebar">
    <div class="level l1 active" data-level="1">1</div>
    <div class="level l2" data-level="2">2</div>
    <div class="level l3" data-level="3">3</div>
  </div>

  <main>
    <div class="card">
      <div id="story"></div>

      <div class="controls">
        <button id="next">Next Page</button>
        <button id="read">Read Aloud</button>
      </div>
    </div>
  </main>

  <script>
    let level = 1;
    const storyEl = document.getElementById('story');
    const synth = window.speechSynthesis;

    const generators = {
      1: () => {
        const subjects = ['The cat', 'A dog', 'The bird', 'A frog', 'The boy', 'The girl', 'A turtle'];
        const actions = ['sat on the mat', 'ran through the yard', 'flew across the sky', 'jumped into the pond', 'read a book', 'played with a ball', 'walked slowly'];
        const places = ['in the sun', 'near the tree', 'by the house', 'at the park', 'on the grass'];
        const feelings = ['It was happy.', 'It felt calm.', 'It liked the day.', 'It felt proud.', 'It smiled.'];

        return `${pick(subjects)} ${pick(actions)} ${pick(places)}. ${pick(feelings)} ${pick(feelings)}`;
      },

      2: () => {
        const starters = ['One morning', 'On a quiet afternoon', 'After school', 'On a sunny day'];
        const animals = ['a small rabbit', 'a curious puppy', 'a playful kitten', 'a young fox'];
        const actions = ['walked through the garden', 'explored the park', 'wandered near the trees', 'moved along the path'];
        const endings = ['feeling safe and happy', 'learning something new', 'enjoying every moment', 'listening to the sounds around it'];

        return `${pick(starters)}, ${pick(animals)} ${pick(actions)}. It stopped to look around and take a deep breath, ${pick(endings)}.`;
      },

      3: () => {
        const openings = ['The sun rose gently over the quiet town', 'Soft rain fell across the neighborhood', 'Morning light filled the small room'];
        const middles = ['A child sat nearby with a book, sounding out each word slowly and carefully', 'Someone turned pages quietly, focused and determined to understand every sentence', 'A young reader traced the words with a finger, growing more confident with each line'];
        const endings = ['By the end of the day, reading felt easier and more exciting', 'When the story ended, there was a smile and a sense of pride', 'As the book closed, a new love for reading had begun'];

        return `${pick(openings)}. The world felt calm and ready for the day. Birds and distant sounds filled the air.

${pick(middles)}. Each page brought new meaning, and the story slowly came alive in their imagination. The words no longer felt confusing.

${pick(endings)}. Tomorrow promised another story and another step forward.`;
      }
    };

    function pick(arr) {
      return arr[Math.floor(Math.random() * arr.length)];
    }

    function generateStory() {
      storyEl.textContent = generators[level]();
    }

    document.querySelectorAll('.level').forEach(btn => {
      btn.addEventListener('click', () => {
        document.querySelectorAll('.level').forEach(b => b.classList.remove('active'));
        btn.classList.add('active');
        level = btn.dataset.level;
        generateStory();
      });
    });

    document.getElementById('next').addEventListener('click', generateStory);

    document.getElementById('read').addEventListener('click', () => {
      synth.cancel();
      const utter = new SpeechSynthesisUtterance(storyEl.textContent);
      utter.rate = 0.9;
      utter.pitch = 1;
      synth.speak(utter);
    });

    generateStory();
  </script>

</body>
</html>
